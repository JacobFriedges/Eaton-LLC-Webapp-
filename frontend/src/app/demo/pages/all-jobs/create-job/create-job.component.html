<div class="container">
    <h2>Job Creator</h2>
  
    <form [formGroup]="jobForm">
      <ng-stepper #cdkStepper [linear]="true" class="custom-stepper">
        <!-- Step 1: Job Details -->
        <cdk-step [stepControl]="jobForm.controls['project']">
          <ng-template cdkStepLabel>
            <div class="step-bullet">1</div>
            <div class="step-title">Project Details</div>
          </ng-template>
          <div class="form-content">
            <div class="form-group">
              <label>Project</label>
              <input type="text" formControlName="project" class="form-control">
            </div>

            <div class="form-group">
              <label>Prime Contractor</label>
              <input type="text" formControlName="primeContractor" class="form-control">
            </div>

            <div class="form-group">
              <label>Prime Contractor Project Number</label>
              <input type="text" formControlName="primeContractorProjectNumber" class="form-control">
            </div>

            <div class="form-group">
              <label>Invoiced Contractor</label>
              <select formControlName="contractorInvoice" class="form-control">
                <option value="primeContractor">Prime Contractor</option>
                <option value="other">Other</option>
              </select>
            </div>

            <!-- Conditional Input for "Other" Contractor -->
            <div class="form-group" *ngIf="isOtherContractor">
              <label>New Invoiced Contractor</label>
              <input type="text" formControlName="newContractorInvoice" class="form-control" placeholder="Enter Invoiced Contractor Name">
            </div>

            <div class="form-group">
              <label>Invoiced Contractor Project Number</label>
              <select formControlName="contractorInvoiceProjectNumber" class="form-control">
                <option value="primeContractorProjectNumber">Prime Contractor Project Number</option>
                <option value="other">Other</option>
              </select>
            </div>

            <!-- Conditional Input for "Other" Contractor Project Number -->
            <div class="form-group" *ngIf="isOtherContractorProjectNumber">
              <label>New Invoiced Contractor Project Number</label>
              <input type="text" formControlName="newContractorInvoiceProjectNumber" class="form-control" placeholder="Enter Invoiced Contractor's Project Number">
            </div>

            <div class="form-group">
              <label>Customer</label>
              <input type="text" formControlName="customer" class="form-control">
            </div>

            <div class="form-group">
              <label>Job Title</label>
              <input type="text" formControlName="jobTitle" class="form-control">
            </div>

            <div class="form-group">
              <label>PO #</label>
              <input type="text" formControlName="poNumber" class="form-control">
            </div>

            <div class="form-group">
              <label>JOB #</label>
              <input type="text" formControlName="jobNumber" class="form-control">
            </div>

            <div class="form-group">
              <label>Order #</label>
              <input type="text" formControlName="orderNumber" class="form-control">
            </div>
          </div>

          <div class="stepper-buttons">
            <button cdkStepperNext class="btn btn-primary">Next →</button>
          </div>
        </cdk-step>
  
        <!-- Step 2: Rate & Material -->
        <cdk-step [stepControl]="jobForm.controls['material']">
          <ng-template cdkStepLabel>
            <div class="step-bullet">2</div>
            <div class="step-title">Rate & Material</div>
          </ng-template>
          <div class="form-content">
            <label>Markets</label>
            <input type="text" formControlName="markets" class="form-control">
        
            <label>Material</label>
            <input type="text" formControlName="material" class="form-control">
        
            <label>Phase Code</label>
            <input type="text" formControlName="phaseCode" class="form-control">
        
            <label>Invoice Type</label>
            <select formControlName="invoiceType" class="form-control">
              <option value="weight">Weight</option>
              <option value="load">Load</option>
              <option value="hour">Hour</option>
            </select>
        
            <label>Rate ($)</label>
            <input type="number" formControlName="rate" class="form-control">
          </div>
          <div class="stepper-buttons">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button cdkStepperNext class="btn btn-primary">Next →</button>
        </div>
        
        </cdk-step>
  
        <!-- Step 3: Date, Time, and Volume -->
        <cdk-step>
          <ng-template cdkStepLabel>
            <div class="step-bullet">3</div>
            <div class="step-title">Date, Time, and Volume</div>
          </ng-template>
          <div class="form-content">
            <label>Total Amount Ordered</label>
            <input type="number" formControlName="totalAmount" class="form-control">
        
            <label>Date Range</label>
            <input type="date" formControlName="dateRange" class="form-control">
        
            <label>Shift Start Time</label>
            <input type="time" formControlName="shiftStart" class="form-control">
        
            <label>Shift End Time</label>
            <input type="time" formControlName="shiftEnd" class="form-control">
        
            <label>Default Yard Buffer Time (Minutes)</label>
            <input type="number" formControlName="yardBufferTime" class="form-control">
          </div>
          <div class="stepper-buttons">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button cdkStepperNext class="btn btn-primary">Next →</button>
        </div>
        </cdk-step>
  
        <!-- Step 4: Dispatch Request -->
        <cdk-step>
          <ng-template cdkStepLabel>
            <div class="step-bullet">4</div>
            <div class="step-title">Dispatch Request</div>
          </ng-template>
          <div class="form-content">
            <label>Number of Trucks Needed</label>
            <input type="number" formControlName="trucksNeeded" class="form-control">
        
            <label>Truck Types</label>
            <input type="text" formControlName="truckTypes" class="form-control">
        
            <label>Daily Delivery Target</label>
            <input type="number" formControlName="dailyTarget" class="form-control">
          </div>
          <div class="stepper-buttons">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button cdkStepperNext class="btn btn-primary">Next →</button>
        </div>
        </cdk-step>
  
        <!-- Step 5: Loading & Unloading -->
        <cdk-step>
          <ng-template cdkStepLabel>
            <div class="step-bullet">5</div>
            <div class="step-title">Loading & Unloading</div>
          </ng-template>
          <div class="form-content">
            <label>Loading Address</label>
            <input type="text" formControlName="loadingAddress" class="form-control">
        
            <label>Unloading Address</label>
            <input type="text" formControlName="unloadingAddress" class="form-control">
          </div>
          <div class="stepper-buttons">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button cdkStepperNext class="btn btn-primary">Next →</button>
        </div>
        </cdk-step>
  
        <!-- Step 6: Additional Notes -->
        <cdk-step>
          <ng-template cdkStepLabel>
            <div class="step-bullet">6</div>
            <div class="step-title">Additional Notes</div>
          </ng-template>
          <div class="form-content">
            <label>Notes</label>
            <textarea formControlName="additionalNotes" class="form-control"></textarea>
          </div>
          <div class="stepper-buttons">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button class="btn btn-success" (click)="submitJob()">Submit Job</button>
          </div>
        </cdk-step>
  
        <!-- Stepper Navigation Buttons -->
        <div class="d-flex justify-content-between mt-3">
            <button cdkStepperPrevious class="btn btn-secondary">← Previous</button>
            <button cdkStepperNext class="btn btn-primary">Next →</button>
            <button *ngIf="cdkStepper.selectedIndex === 5" class="btn btn-success" (click)="submitJob()">Submit Job</button>
        </div>
      </ng-stepper>
    </form>
  </div>
  